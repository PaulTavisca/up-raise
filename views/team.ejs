<% layout('layout') -%>
<% script('/javascripts/router/teamusersRoute.js') -%>
<% script('/javascripts/controllers/teamusersController.js') -%>
<% script('/javascripts/controllers/teamuserController.js') -%>

<script type="text/x-handlebars" data-template-name="teamusers">
	{{outlet headerBar}}
	<div class="container">
	

		{{#if showTeam}}	
		<div class='form-inline'>		
			<h2> My Team for Cycle <div class='form-group'>
  </div></h2>
			</div>
			<hr />
			<table class="table table-bordered table-responsive">
				<tr>
					<th class="col-md-4 text-center">Name</th>
					<th class="col-sm-3 text-center"><div class="form-inline">Status for <div class='form-group'>	{{view Ember.Select
	       contentBinding='registeredCycles'
	       optionValuePath="content.id"
	       optionLabelPath="content.name"
	       value=currentCycleId	
	       
	         }} </div></div>
	         </th>
					<th class="text-center">Actions</th>
				</tr>

				{{#each itemController='teamuser'}}
									
						<tr >
							<td>{{name}}</td>
							{{#if areGoalsSet class="success"}}
							<td> {{ kraStatus }}</td>
							{{else}}
							<td class="danger"> {{ kraStatus }}</td>
							{{/if}}
							<td> 
								 
									{{#if areGoalsSet}}
									<a href="/kra/{{unbound id}}#/{{unbound userId}}"> View Goals</a>
									{{else}}
									<a href="#" {{action reminder userId}}> Send Reminder</a>
									{{/if}}
									|
									<a href="/teamdiary/{{unbound userId}}"> View Diary</a>
								</td>
						</tr>
							
						
				{{/each}}					
			</table>			
		{{/if}}
	</div>
</script>